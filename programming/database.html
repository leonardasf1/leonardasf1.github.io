<div id="pageTitle">Data Base</div>

<div>
	<a href="https://github.com/v1a0/sqllex">SQLLEX ORM</a><br>
	<a href="https://developer.mozilla.org/ru/docs/Learn/Server-side/Express_Nodejs/mongoose">Использование базы данных</a><br>
  <a href="https://habr.com/ru/company/hexlet/blog/274675/">RESTful</a><br>
  <a href="https://youtu.be/7CR5eH6a8Fo">Базы данных и Kubernetes. 2018</a><br>
  <a href="https://redbeanphp.com/index.php">RedBeanPHP</a> ORM<br>
  <a href="https://youtu.be/vbhSrZxm66E">Как работает ClickHouse, лекция в ШАД. 2018</a><br>
  WebSQL - проект закрыт в 2010 <br>
</div>

<div>SQL
	<pre><code>
INSERT INTO users (username, name) VALUES('".$_POST['username']."', 'David Malan');
INSERT INTO users (username, name) VALUES(?, ?);
INSERT INTO articles_categories (title, date) VALUES ('Nature', NOW());

SELECT * FROM users;
SELECT * FROM users WHERE username = ?;
SELECT name FROM users WHERE username = ?;
SELECT * FROM users JOIN zips ON users.zip = zips.zip
SELECT id,title,pubdate,views FROM articles WHERE title = '';
SELECT * FROM articles WHERE views < 100;
SELECT * FROM articles ORDER BY views; //сортировка по полю views
SELECT * FROM articles ORDER BY views DESC; // обратная сортировка
SELECT * FROM articles ORDER BY views DESC LIMIT 0,10; //top10
SELECT COUNT(id) AS total_count FROM articles WHERE categorie_id = 5;

UPDATE articles SET title = '', views = views + 1 WHERE id = 2;
UPDATE articles SET views = views + 1 WHERE id = 2;

DELETE FROM articles WHERE id = 4 OR id = 5;
DELETE FROM articles WHERE title = '' AND views = 0;

	</code></pre>
</div>

<div><h2>MySQL</h2>
	<a href="https://youtu.be/N3THJnbwlLI">СУБД MySQL - Павел Пушкарев. 2014</a><br>
	<a href="https://www.mamp.info/en/downloads/">MAMP</a> / phpMyAdmin <br>
</div>

<div><h2>GraphQL</h2>
	<a href="https://github.com/nodkz/conf-talks">статьи и презентации про GraphQL</a><br>
	<a href="https://youtu.be/5h7zX45YPuQ">ApolloClient 3 — прощаемся с Redux, REST API и Relay - Павел Черторогов. 2020</a><br>
	<a href="https://www.apollographql.com/">ApolloGraphQL.com</a><br>
	<a href="https://relay.dev/"><img src="https://relay.dev/img/favicon.png" alt="relay"> relay.dev</a><br>
	<a href="https://youtu.be/smFyitWV2fE">Relay Modern: работа с локальными данными | Александр Руденко</a><br>
	<a href="https://graphql.org/"><img src="https://graphql.org/img/logo.svg" alt="graphql.org"> GraphQL</a><br>
  <a href="https://habr.com/en/post/326986/">Habr</a><br>
  <a href="https://tproger.ru/translations/graphql-beginners-guide/">tproger</a><br>
  <a href="https://youtu.be/4diXbLnYrMs">GraphQL, или Новый взгляд на API / Илья Запруцкий(2018)</a><br>
  <a href="https://youtu.be/_vjSZhnYhfI">GraphQL в 2018 / Илья Климов / MYKOLAIV JS 2018</a><br>
  <a href="https://raw.githubusercontent.com/sogko/graphql-shorthand-notation-cheat-sheet/master/graphql-shorthand-notation-cheat-sheet.png">graphql-shorthand-notation</a><br>
</div>

<div><h2>Яндекс.Облако</h2>
	<a href="https://cloud.yandex.ru/events/100">Обзор платформы Яндекс.Облако</a><br>
	<a href="https://youtu.be/xyMN1EA9p5Y">Базы данных в облаках / Владимир Бородин (Яндекс) 2019</a><br>
	<a href="https://cloud.yandex.ru/events/101">Cloud Security Online Meetup</a><br>
</div>

<div>
	<img src="https://www.mongodb.com/assets/images/global/favicon.ico" alt="MongoDB"> MongoDB
	<div id="links">
	<a href="https://cloud.yandex.ru/events/104">Опыт использования MongoDB</a><br>
	<a href="https://youtu.be/CZKl22peGJk">основы MongoDB - Олег Мохов (2016)</a><br>
	<a href="https://youtu.be/8bE_PBRriyU">NodeJS, Express, MongoDB - Приложение целиком (2019)</a><br>
	<a href="https://youtu.be/ivDjWYcKDZI">MERN - с Нуля до Деплоя (Mongo, Express, React, Node) (2019)</a><br>
	<a href="https://youtu.be/_I9vLOAsFew">Базы данных. MongoDB. Технострим(2017)</a><br>
  <a href="https://itvdn.com/ru/video/mongodb">ITVDN - Основы MongoDB</a><br>
  <a href="https://youtu.be/-lVpErvI168">NoSQL СУБД MongoDB - Андрей Годин. 2014</a><br>
  <a href="https://mongoosejs.com/">Mongoose ODM for node.js</a>
	<hr>
	Денормализация<br>
	Репликация<br>
	Шардирование:<br>
Range Based, Hash Based <br>
connect(url) <br>
db.collection('') <br>
	</div>
db.dbName
	<details><summary>.insert() // create</summary><pre><code>
db.students.insert({
	name: 'Дарья',
	nickname: 'Пиратка',
	group: 'ПИ-401',
	grades: {
		java: [1,2,1,1,2,2,1],
		verstka: [2,2,1,2,1,1,2]
	}
})
	</code></pre></details>
	<details><summary>.find() // read</summary><pre><code>
db.students.find(
	{ group: 'ПИ-401' }, //1й аргумент
	{ nickname: 1},   //2й аргумент
	{ course: { $lt : 3 } }, //с оператором < 3
	{ group: /ПИ/ },  // regExp
	{ $or: [
		{ course: '2' },
		{ group: 'ПИ-401' }
	] },
	{ "grades.java.5": 2 } 
)
db.students.find() //показать всё, ответ:
{
	"_id" : ObjectId("56cc30e2e52c943bf62fff72"),
	"name" : "Дарья",
	"nickname" : "Пиратка",
	"group" : "ПИ-401"
}

ObjectId("56cc30e2e52c943bf62fff72")
56cc30e2 - time //когда
e52c94 - mid //machine id
3bf6 - pid //
2fff72 - inc //счетчик
	</code></pre></details>
	<details><summary>.update() // update</summary><pre><code>
db.students.update(
	{ group: /3\d{2}/ }, //параметры поиска
	{ $set: { course: "3" } }, //параметры обновления
	{ multi: true } // обновить все отфильтрованые записи 
)
1й параметр может быть и пустым {}
2е параметры:
$inc: { course: 1 } // += 1
	</code></pre></details>
	<details><summary>.remove() // delete</summary><pre><code>
db.students.remove(
	{ course: 1 }
)
	</code></pre></details>
	<details><summary>.explain()</summary><pre><code>
db.phones.find(
	{ display: "+1 800-5650001" }
).explain() //выведет инфо о запросе(кол-во объектов, время поиска,...)
	</code></pre></details>
	<details><summary>.createIndex() // add index</summary><pre><code>
	// дорогая операция!!!
db.phones.createIndex(
	{ display: 1 },
	{ unique: true }
)
	</code></pre></details>
	<details><summary>.help()</summary><pre><code>
	</code></pre></details>
	<details><summary>операторы</summary><pre><code>
$ne  // !=
$lt,$lte,$gt,$gte // <,<=,>,>=
$exists //существование поля
$all  //соответствие всем элементам массива
$in  //соответствие хотя бы одному элементу массива
$nin //соответствие ни одному элементу массива
$or  // или
$nor // не или
$set // установить
	</code></pre></details>

<pre><code>
function insertStudent(name, nickname, group) {
  MongoClient.connect(url)
  .then((db) => {
    let year = group.split('-').pop().slice(0, 1...
    db.students.insert({
      name,
      nickname,
      group,
      year
    });
  });
}
insertStudent('Петр', 'petr', 'MT-204')
</code></pre>
</div>

<div><h2>Firebase</h2>
	<a href="https://firebase.google.com/"><img src="https://www.gstatic.com/devrel-devsite/prod/v35095b53655653106712feb44f96c6929ce012ae38486ad7db1de265cbd9b7ec/firebase/images/favicon.png" alt="firebase"> firebase.google.com</a><br>
	<a href="https://www.youtube.com/playlist?list=PLGlZ_ld11os-uaWVHTp6K-ZAzk4xdkOVM">Firebase September by GDG Russia (2020)</a><br>
	Google Cloud Platform (GCP)
	<pre><code>
sudo npm install -g firebase-tools
firebase login
firebase init
. hosting //для деплоя на firebase.hosting
npm run build
firebase deploy
if error {firebase logout; firebase login}
	</code></pre>
</div>

<div><h2>PostgreSQL</h2>
	<a href="https://youtu.be/ejLzS6rVpkk">Базы данных: PostgreSQL - Владимир Бородин. 2014</a><br>
  <a href="https://itvdn.com/ru/video/postgresql">ITVDN - PostgreSQL</a><br>
</div>